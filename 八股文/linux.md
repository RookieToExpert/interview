1. 如何查看端口是否被占用？
- `lsof -i :80` (可以更详细地显示进程信息)
- `ss -tunpa | grep 80` (则更高效，适合在大规模系统中使用)

![alt text](image-9.png)

2. 如何排查资源使用情况？
- `vmstat` (r很高(> CPU 核心数) → CPU 不够，si/so 大量交换(持续不为 0) → 内存不足，b 很高(长期大于 CPU 核心数的 20–30%)、wa 高(> 20%：磁盘 I/O 瓶颈明显) → 可能 I/O 瓶颈。)

    ![alt text](image-10.png)

- `iostat` (看idle时间，看磁盘的平均单次I/O平均大小和I/O平均大小)

    ![alt text](image-11.png)

- `htop` (看实时系统cpu，内存及正在运行的进程的情况)

    ![alt text](image-12.png)

- `df -h`（看磁盘使用情况）

    ![alt text](image-13.png)

- `free`（看内存使用情况）

    ![alt text](image-14.png)

3. 如何查看日志？
- `journalctl -u kubelet` (用于查看systemd-journald服务收集的日志)

    ![alt text](image-15.png)

4. 什么是硬链接软连接？
- 硬链接是直接与文件数据关联，不能跨分区且不可以链接目录，不占用inode。(``ln sourcefile linkfile``)
- 软链接是对文件路径的引用，可以跨分区且可以链接目录，占用inode，删除源文件会导致软链接变成悬挂链接，无法访问目标文件(`ln -s sourcefile linkfile`)。

5. 怎么杀死进程？

    ![alt text](image-16.png)

6. 进程如何通信？
- 管道（Pipe）/命名管道（FIFO）
    - 底层：基于pipe(),mkfifo()实现
    - 具体：ls | grep txt 或者 mkfifo /tmp/fifo && cat /tmp/fifo & echo hello > /tmp/fifo
- 消息队列（Message Queue）
    - 底层：开发可以直接用msgsnd/msgrcv系统调用
    - 应用层：通常用常见中间件包括RabbitMQ, Kafka, ActiveMQ实现。
- 共享内存（Shared Memory）
    - 数据库（MySQL、PostgreSQL）大量用共享内存来做 buffer pool。
- 信号（Signal）
    - 底层：kill()实现。
    - 具体：kill -9 PID、Ctrl+C（SIGINT）就是最直观的表现。
- 套接字（Socket）
    - 具体：网络编程的基础，TCP/IP、UDP 都是 socket 的应用。
- 文件映射（Memory-Mapped Files）
    - 用于加速文件访问，例如 Linux 下的 mmap，可以让文件内容直接表现为内存数组。

7. 在linux中，输入一个命令后，会发生什么？
- **命令解析**：
    - 用户在终端输入命令后，终端程序比如bash，sh会读取用户的整行输入，并且进行**分行处理，区分命令本身，选项和参数**。
    - 终端会判断输入的命令是是**内置命令、外部命令还是别名**。
- **命令查找**
    - 内部命令：shell会直接调用内部的函数来执行该命令。
    - 外部命令：查找当前**环境变量中的PATH**指定的目录列表。
    - 别名：shell会将其替代成对应的实际命令。
- **环境准备**
    - **变量替换**：例如输入`echo $HOME`的时候，shell会将其中HOME替换成为用户主目录的实际路径。
    - **通配符拓展**：输入`ls *.txt`，shell会将*.txt扩展为当前目录下所有以.txt结尾的文件
    - **命令替换**：例如输入`echo(date)`，shell会先执行`date`，再替换掉`(date)`的位置，然后再执行echo。
-**进程创建与执行**
    - 对于外部命令，shell会调用**fork()**系统调用创建一个新的子进程，子进程创建成功后，会调用**exec()**系列系统调用，用要执行的命令对应的可执行文件替换当前子进程的映像。
- **输入输出处理**
    - 标准输入、输出和错误输出
    - 重定向
    - 管道
- **结果返回与状态码**
    - 命令执行结果
    - 退出状态码

8. linux中(), (()), {}, [], [[]]的区别： 

![alt text](image-17.png)

9. 再linux中，如何查找一个文件？
- find
- locate(推荐locate)

10. 通常linux中，有哪些查看网络状态的命令？
- IP: ip命令是ifconfig的替代工具，功能更强大，可用于显示和配置网络接口、路由表等信息。
- ss: ss是netstat的替代工具，速度更快，能提供更详细的网络连接信息。
- ping：用于测试网络连通性，向目标主机发送ICMP回显请求数据包，并接收目标主机的响应。
- telnet：用于测试 TCP 端口连通性，常用于验证目标主机某个服务端口是否可访问。
- curl：用于从命令行发送 HTTP/HTTPS 请求，调试 Web 服务常用。
- traceroute：用于跟踪数据包从本地主机到目标主机所经过的路由路径
- tcpdump

11. linux中的通道是什么？
- 匿名通道：
`ls | grep xxx`
- 命名通道：

    ![alt text](image-18.png)

12. 了解文件系统类型吗？
- 文件系统类型：
    - Ext4：是Linux系统中广泛使用的日志文件系统，它是Ext3文件系统的后继版本。具有高可靠性、高性能和良好的扩展性，支持最大1EB的文件系统和最大16TB的单个文件，同时还支持延迟分配、多块分配等特性，能有效提升文件系统的性能。
    - XFS：是一种高性能的64位日志文件系统，特别适合处理大容量数据和大文件。它具有出色的并发性能和快速的文件系统修复能力，在大规模数据存储和高性能计算环境中应用广泛。
- 文件系统工作原理：
    - inode：每个文件和目录在文件系统中都有一个对应的inode（索引节点），inode包含了文件的元数据，如文件的权限、所有者、文件大小、创建时间、修改时间等，同时还包含了指向文件数据块的指针。
    - 数据块：文件的数据实际存储在数据块中，数据块是文件系统分配和管理磁盘空间的基本单位。
    - 目录项：目录也是一种特殊的文件，它包含了一系列的目录项，每个目录项记录了文件名和对应的inode号码，通过目录项可以将文件名和inode关联起来。
- 文件系统的挂载与卸载

13. Linux如何查询端口并杀死进程？
- 通过ss或者Isof查询到对应端口进程的PID，并执行kill或者kill -9杀死进程。
