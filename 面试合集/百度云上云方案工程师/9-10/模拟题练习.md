# 百度云架构师面试题复习手册（30题完整版）

## 3. SLA 99.99% 架构设计
- **部署**：多AZ/跨Region容灾  
- **组件**：CCE集群+负载均衡BLB+对象存储BOS多副本  
- **RTO/RPO**：分钟级切换、秒级恢复  
- **演练**：定期灾备演练  

---

## 4. 应对业务流量突增 10倍
- **预测**：监控+历史流量建模  
- **自动扩缩容**：CCE HPA、弹性伸缩组（ASG）  
- **流量治理**：GTM全局流量调度+CDN边缘限流
  - CDN限速：视频点播服务，为了公平，限制单用户最大下载速率 10Mbps，开放平台 API 接口，免费用户每秒最多 50 次请求。
- **压测**：百度云性能压测服务  

---

## 5. 跨地域/跨地容灾
- **数据同步**：RDS 异步/半同步复制、BOS跨区域复制  
- **切换**：手动或自动Failover（GTM）  
- **一致性**：最终一致 or 强一致取舍  
- **演练**：定期跨Region切换  

---

## 6. 混合云互通设计
- **网络方案**：专线/VPN接入 → VPC  
- **多地互联**：云企业网CEN  
- **优化**：路由规划+QoS策略（Quality of Service））
  - 路由规划：IDC（上海 VPN 连接） → 最近 Region（华东 VNet）
  - QoS策略：交易系统（北京 VNet）：设置为高优先级，保证 50% 最低带宽
- **加速**：CDN+智能调度
  - 给用户分配一个最优边缘节点 IP（一般在用户最近的城市/运营商机房）。

---

## 7. 多云与避免厂商锁定
- **抽象层**：CCE（K8s容器）、服务网格（Istio）
  - 用K8s跑容器，配Istio做服务发现，可以随时把集群迁到其他云
- **IaC**：Terraform Provider for Baidu Cloud
  - Terraform管理，迁移时可以只需要换provider，而不是重写脚本  
- **统一管理**：IAM集中权限管理
  - 用一个统一的身份平台，比如AD/LDAP而不是云厂商的IAM
- **成本**：费用中心统一统计
  - 用第三方FinOps平台比如CloudHealth等

---

## 8. FinOps 成本优化
- **账单管理**：费用中心+资源标签
  - 给每个资源加标签：Dept=研发、Dept=市场、Project=APP1，在费用中心里，按标签或账号来分摊账单。
- **分析**：热点/闲置资源
  - 开启 云监控服务（Baidu Cloud Monitor）分析CPU、内存、磁盘 IOPS 的长期平均利用率和存储桶/对象访问频率（多久没有访问）等。
- **降本**：预留实例、Savings Plan(百度智能云貌似没有)、冷热分层存储（BOS IA/归档存储）
  - 核心服务用的 VM → 购买 1 年期预留实例（RI），费用可降 30%-60%
  - 历史订单数据放到 冷存储（BOS Infrequent Access/IA） 
- **自动化**：CFC函数定时关机/释放资源  

---

## 9. 微服务架构治理
- **服务治理**：CCE+Istio，注册发现、熔断、限流、灰度发布  
- **配置中心**：统一配置与版本回滚  
- **观测性**：日志服务BLS+链路追踪SkyWalking  

---

## 10. 基础设施即代码（IaC）
- **工具**：Terraform、Ansible、Pulumi（百度云Provider支持）  
- **规范**：模块化、环境隔离（dev/stage/prod）  
- **状态管理**：Terraform state 存储在 BOS  
- **优势**：自动化部署+合规检查  

---

## 11. 数据库扩展瓶颈
- **措施**：
  - 读写分离（RDS主从）  
  - 分库分表（ShardingSphere on CCE）  
  - 缓存双写一致（Redis+消息队列）  
  - 数据中台（Baidu BigData Platform）  

---

## 12. 零信任安全架构
- **措施**：
  - 身份联合（IAM+SSO）  
  - STS临时凭证  
  - RBAC/ABAC最小权限  
  - 基线巡检（百度安全中心）  

---

## 13. 合规与数据出境
- **能力**：
  - KMS+双层加密  
  - 脱敏处理  
  - BYOK/HYOK（自主管理密钥）  
  - 满足等保、ISO、数据跨境监管  

---

## 14. 端到端可观测性
- **组件**：
  - 指标（Cloud Monitor）  
  - 日志（BLS日志服务）  
  - 链路追踪（SkyWalking）  
  - 事件总线（EventBridge）  
- **统一告警**：SLO/SLA/SLI  

---

## 15. Serverless 应用场景
- **平台**：百度云 **CFC函数计算**  
- **优势**：事件驱动，自动伸缩，低成本  
- **考量**：冷启动、并发限制、成本与调试复杂度  

---

## 16. 企业级 API 管理
- **API网关**：认证（OAuth2/JWT/AKSK/MTLS）  
- **限流**：配额与QPS限制  
- **版本管理**：多版本并存  
- **文档治理**：OpenAPI/Swagger  

---

## 17. 跨团队标准化落地
- **规范**：统一资源标签命名、环境基线固化  
- **挑战**：阻力、影响大  
- **措施**：高层背书、度量合规率、建立落地指引  

---

## 18. Region 故障事件响应
- **流程**：
  - 监控检测（Cloud Monitor+第三方）  
  - War Room沟通  
  - 升级路径：技术→管理→客户沟通  
  - 临时措施：GTM流量切换、跨Region多活  

---

## 19. 安全左移（Shift Left）
- **措施**：
  - 威胁建模  
  - 基线扫描（百度安全中心）  
  - 镜像漏洞扫描（CCE内置安全）  
  - IaC Policy as Code  

---

## 20. 全球分发 API 加速
- **方案**：
  - 多Region部署（CCE+RDS）  
  - GSLB全局负载均衡  
  - CDN缓存（百度智能CDN）  
  - 跨地域一致性（最终一致 or 强一致）  

---

## 21. 健康项目特征
- 范围清晰、目标明确  
- 资源投入匹配  
- 可量化收益（降本、提效、稳定性）  

---

## 22. 客户侧需求挖掘
- 客户访谈、业务痛点梳理  
- 指标化（成本/性能/稳定性）  
- 小范围POC验证  

---

## 23. 标书与讲标
- **标书**：详细方案、架构图、预算  
- **讲标**：简洁表达客户价值，聚焦需求对标  
- **区别**：标书偏技术细节，讲标偏沟通与说服  

---

## 24. 报价策略
- **产品**：BOS、CCE、RDS → 毛利高  
- **服务**：实施、运维 → 毛利相对低  
- **组合**：软硬件+服务打包  

---

## 25. 售前日常工作
- 需求调研  
- 方案设计  
- POC验证  
- 投标与客户关系维护  

---

## 26. 投标结果操作空间
- 关系维护  
- 技术差异化展示  
- 商务灵活条款  

---

## 27. 甲方已有内定供应商时
- 陪标策略  
- 关系维护，准备后续机会  
- 控制投入成本  

---

## 28. 出差接受度
- 可接受短期浙江/华东出差  
- 保持工作与生活平衡  

---

## 29. 当前热点方向
- 大模型：百度 **文心大模型**  
- 国产化替代：信创适配（芯片/数据库/OS）  
- FinOps：成本治理自动化  
- 可持续IT：绿色数据中心  

---

## 30. 未来12个月需补齐的三类能力
1. **国产化替代**
   - 百度云信创支持（飞腾/鲲鹏芯片、达梦/金仓数据库、麒麟/统信OS）  
   - 学习路径：做一次MySQL→达梦迁移POC  

2. **FinOps自动化**
   - 百度云费用中心+预算预警  
   - 利用函数计算（CFC）+API实现资源优化  
   - 学习路径：搭建成本分析Dashboard+自动关机脚本  

3. **绿色算力（可持续IT）**
   - 百度绿色智能数据中心  
   - 设计低能耗架构（CCE弹性伸缩+BOS冷热分层存储）  
   - 学习路径：研究白皮书，实践冷热存储+弹性伸缩方案  

---

---

## 一、技术问题（6 道）

### 1. Linux 下如何排查高 QPS 时的系统瓶颈？
**答题思路**：分层 → 工具 → 结论  
- 我会从 **CPU、内存、磁盘 IO、网络** 四个方向排查：  
  - `top/vmstat/free` 去看 整体CPU/内存；
    - 用`ps`定位具体进程
        - 用`dmesg`看具体日志  
  - `iostat` 看磁盘读写瓶颈；(使用率，I/O平均等待) 
  - `sar`、`ss -s` 看网络连接数与吞吐； 
    - ss可以看看具体的已建立的连接数量，timewait的连接数有多少
    - sar -n DEV 1 看看实际的接受速度和发送速度，是不是接近网卡的上限了
  - `nvidia-smi` 看 GPU 使用率。  
- 常见结论是：瓶颈出在网络/存储侧，可以通过扩展节点或优化 LB 规则解决。  

---

### 2. 解释一下 BGP 专线在云上 AI 训练中的作用？
**答题思路**：协议原理 → 应用场景 → 风险点  
- **BGP** 的优势：路径多样性、自动收敛，能保证大带宽与稳定性。  
- 在 **AI 场景**：需要跨 IDC/跨区域传输 TB/PB 级训练数据，BGP 专线保证低延迟高带宽。  
- **注意事项**：要监控路由震荡，配合 QoS 策略，避免训练中断。  

BGP 的好处是多路径和自动收敛，能保证大带宽和稳定性。AI 训练需要跨 IDC 传输大量数据，用 BGP 专线能降低延迟。风险点是路由震荡，所以要加 QoS 策略。

---

### 3. 负载均衡在 AI 业务中的常见问题？
- 四层 LB：性能高，适合推理 API；  
- 七层 LB：支持路由/鉴权，适合多业务混合场景；  
- **风险**：如果没配置好会话保持，分布式训练会因为任务断连而失败。  

训练和推理都依赖 LB。四层 LB 性能更高，适合推理 API；七层 LB 功能更灵活，但要注意会话保持，否则训练可能中断。

---

### 3.1 负载均衡分为哪些类型？有哪些实现方式？

### 3.2 一个用户的请求路径是怎么样的？如何加速用户的请求响应速度？CDN加速的原理？

### 3.3 网关有哪些？网络层，应用层，路由层和云网关？

### 3.4 spark,flink
### 4. GPU 利用率低，可能原因有哪些？
- 显存不足（batch size 太大/太小）；  
- 数据加载 IO 瓶颈（CPU/存储端）；  
- 多卡间通信受限（PCIe、RDMA 没优化）；  
- K8s 调度不合理。  
- **解决办法**：profiling → 优化 batch size → 分布式存储/并发 → NCCL+RDMA。  

---

### 5. 在云上部署 500 卡 GPU 训练集群，架构如何设计？
- **计算**：A100/H800，Slurm/K8s 调度；  
- **网络**：万兆/IB 网络，RDMA；  
- **存储**：分布式文件系统（Ceph/Lustre）；  
- **容器化**：K8s + GPU operator。  
- **价值**：保证扩展性和资源利用率。  

计算层面用 A100/H800，调度用 K8s 或 Slurm；网络用 IB/RDMA；存储用分布式文件系统；容器管理用 GPU operator。这样保证扩展性和资源利用率。

---

### 3. SLA 99.99% 高可用架构设计
- **组件选择**：多可用区/跨Region部署  
- **冗余**：负载均衡+多副本存储  
- **故障划分**：单AZ、单节点故障可容忍  
- **RTO/RPO**：分钟级切换、秒级数据恢复  
- **演练机制**：定期容灾演练

---
### 4. 应对业务流量暴涨 10倍
- **容量预测**：基于历史数据+监控趋势  
- **自动伸缩**：HPA（K8s水平扩容）、弹性伸缩组  
- **流量调度**：限流、熔断、负载均衡  
- **压测**：提前做压力测试验证上限  

---
### 5. 混合云互通设计
- **场景**：IDC + 公有云  
- **专线/VPN/SD-WAN**：根据带宽、延迟、成本选择  
- **路由规划**：CIDR 规划、避免冲突  
- **带宽与延迟控制**：QoS、冗余链路  

---
### 7. 多云/避免厂商锁定
- **抽象层**：服务网格（Istio）、容器平台（K8s）、IaC（Terraform）  
- **统一管理**：身份与权限集中管控  
- **成本分摊**：统一计费/跨云监控 

---
### 9. 微服务体系设计与治理
- **服务治理**：注册发现、熔断限流、灰度发布、金丝雀发布  
- **配置中心**：集中配置+版本回滚  
- **观测性**：日志、指标、链路追踪  

---
### 10. 基础设施即代码（IaC）
- **工具**：Terraform / Pulumi / Ansible  
- **标准**：模块化、可复用  
- **环境隔离**：dev/stage/prod  
- **状态管理**：远程state、锁机制  
- **发布管控**：流水线自动化  

---
### 11. 数据库成为吞吐与扩展瓶颈
- **常见措施**：
  - 读写分离（主从架构）
  - 分库分表（Sharding）
  - 分片路由（中间件/MyCat/ShardingSphere）
  - 数据中台（统一访问层）
  - 缓存双写一致性（Redis + 消息队列，最终一致）
- **目标**：提升吞吐量，避免单点性能瓶颈 

---
### 12. 零信任安全架构/细粒度访问控制
- **方案**：
  - 身份联合（SSO，OIDC/SAML）
  - 临时STS凭证，动态密钥
  - 最小权限（RBAC/ABAC）
  - 零信任基线巡检（设备/身份/环境多因子校验）
- **目标**：杜绝传统“边界安全”，确保访问都可验证  

---
### 13. 合规与数据境要求（等保/ISO/跨境数据）
- **数据保护设计**：
  - KMS（密钥管理）
  - 双层加密（服务端+客户端）
  - 脱敏（Masking）
  - 密钥托管 vs 自主管理（BYOK/HYOK）
- **目标**：满足跨境合规和行业监管要求  

---
### 14. 构建端到端可观测性体系
- **要素**：
  - Metrics（指标：CPU、延迟、QPS）
  - Logs（日志）
  - Trace（链路追踪，Jaeger/Zipkin）
  - Event（事件总线）
- **统一管理**：告警分级，SLO/SLA/SLI 管理  

---
### 15. Serverless 在峰值/平时负载场景
- **适配场景**：
  - 峰值：函数自动弹性，事件驱动  
  - 平时：低成本运行  
- **评估维度**：
  - 冷启动延迟
  - 并发限制
  - 成本优化
  - 调试复杂度  

---
### 16. 企业级 API 管理
- **能力**：
  - 网关分层（API Gateway、Service Mesh）
  - 身份认证（OAuth2/JWT/AK+SK/MTLS）
  - 配额与节流（Rate Limit/Quota）
  - 版本兼容（多版本API治理）
  - 文档治理（Swagger/OpenAPI）  

---
### 17. 推动跨团队标准化落地
- **举例**：统一标签/命名规范；环境基线固化（Dev/Stg/Prod）  
- **挑战**：阻力大、影响范围广  
- **措施**：
  - 高层背书
  - 标准落地指引
  - 度量（合规率、覆盖率）
- **成效**：统一资源治理，提升协作效率  

---
### 18. 云上大规模网络抖动/Region 故障
- **事件响应流程**：
  - 信号检测（监控报警、第三方状态页）
  - War Room 协同
  - 升级路径（技术→管理→客户沟通）
  - 临时缓解（流量切换、多活）  
- **目标**：缩短 MTTR，减少业务损失  

---
### 19. Dev 阶段安全左移（Shift Left）
- **措施**：
  - 威胁建模
  - 合规基线扫描
  - 镜像/依赖漏洞扫描
  - IaC 安全策略（Policy as Code）
- **目标**：问题前置，降低修复成本  

---
### 20. 全球分发的 API 加速方案
- **设计要点**：
  - 多地部署（Region）
  - GSLB（全局负载均衡）
  - CDN 缓存层级（边缘节点加速）
  - 跨地域数据一致性策略（最终一致 or 强一致）  
- **目标**：降低延迟，保证高可用  

---
### 6. 如何监控 AI 训练集群的网络性能？
- **指标**：带宽利用率、丢包率、延迟、PPS/FPS。  
- **工具**：`iftop`, `iperf`, Prometheus + Grafana。  
- **应用**：帮助识别模型训练慢是因为带宽瓶颈还是 CPU/GPU 资源问题。  

主要看带宽、延迟、丢包和 FPS。工具可以用 iftop、iperf，或者 Prometheus + Grafana。这样能判断模型训练慢是不是网络瓶颈。

---

## 二、业务问题（5 道）

### 7. 客户 GPU 资源需求大，但云上资源有限，怎么办？
- 建议混合方案：核心训练用高端 GPU（A100/H800），推理或预处理用性价比 GPU；  
- 引导客户用 **Spot 实例 + 弹性调度** 降低 30% 成本；  
- 分阶段交付：先满足关键任务，剩余算力排期。  

我会建议核心任务用高端 GPU，推理或预处理用性价比 GPU。
再结合 Spot 实例和弹性调度，降低成本。必要时分阶段交付，先保障关键任务。

---

### 8. 智能驾驶客户的痛点是什么？
- 端到端训练需要 **低延迟、大带宽**，数据量极大（传感器、视频流）。  
- 难点：数据传输和实时处理。  
- 方案：BGP 专线 + 分布式存储 + 就近地域部署。  
- 价值：保证研发周期，缩短训练迭代。  

他们需要端到端训练，数据量极大，要求延迟低、带宽高。
解决办法是用 BGP 专线做高速传输，配合分布式存储和就近地域部署。

---

### 9. 游戏客户用 AI 生成 NPC/虚拟人，会遇到什么问题？
- 高并发推理 → 需要弹性扩容 LB；  
- 内容安全合规 → 提供安全审查/审核 API；  
- 成本控制 → 用 CPU 预推理 + GPU 实时渲染混合方案。  

---

### 10. 如果客户提出功能当前产品没有，你怎么处理？
- 先安抚客户 → 给临时 workaround；  
- 内部推动研发评估，明确优先级；  
- 向客户同步时间线，避免过度承诺。  
- 价值：维护客户信任，也推动产品迭代。  

---

### 11. 客户要求 SLA 很高，但预算有限怎么办？
- 告诉客户高 SLA = 高成本；  
- 提供分级方案：核心任务高 SLA，非核心任务用低成本资源；  
- 沟通价值：在预算内最大化收益。  

---

## 三、综合问题（4 道）

### 12. 客户抱怨训练速度慢，你怎么处理？
- **表达理解**：理解进度紧张；  
- **排查维度**：硬件（GPU/网络/存储）、软件（框架/并行度）、数据（IO）；  
- **沟通**：分阶段给客户反馈（初步结论 + 后续改进）；  
- **结果**：客户感受到“有人负责”，问题逐步收敛。  

我会先表达理解。
再从硬件（GPU/网络/存储）、软件（框架）、数据（IO）三个层面排查。
沟通上分阶段给客户反馈，让他们知道问题有人跟进。

---

### 13. 你怎么看百度云在 AI 云算力市场的定位？
- 阿里/火山在算力规模和价格上强；  
- 百度云优势：**AI 技术（PaddlePaddle）、智能驾驶、语音识别场景深耕**；  
- 差异化：百度不仅卖 GPU，更能结合 AI 能力给客户做 **端到端落地**。  

阿里和火山在规模和价格上强，但百度云在 PaddlePaddle、智能驾驶、语音识别方面有差异化优势。
百度不仅提供 GPU，还能结合自研 AI 能力，做端到端落地。

---

### 14. 对百度云AI产品的认识

### 15. 了解RAG吗？除了RAG，还有什么可以提高大模型的能力？

### 16. 用过哪些AI框架？
### 14. 如果你作为方案工程师，如何帮助公司完成 100 亿目标？
- 把方案和客户业务绑定：**算力交付 + 行业解决方案（智能驾驶/游戏/互联网）**；  
- 聚焦核心客户（AI 大模型公司），形成标杆案例；  
- 推动内部产品迭代，提高客户复购率。  

我会把算力交付和行业解决方案绑定，聚焦智能驾驶、互联网和游戏大客户，做标杆案例。
同时推动产品迭代，提高客户复购率。

---

### 15. 你最有成就感的技术/项目案例是什么？
- **背景**：某客户遇到资源瓶颈，训练任务经常失败；  
- **行动**：我排查发现是存储 IO 不足，推动采用分布式存储 + 数据并发读取；  
- **结果**：训练时间缩短 30%，客户满意度大幅提升；  
- **反思**：让我认识到技术问题背后，解决的其实是客户的业务目标。  

有一次客户训练任务经常失败，我排查发现是存储 IO 不足。
最后推动用了分布式存储和并发读取，训练时间缩短了 30%。
客户非常满意，也让我体会到技术背后是业务价值。

---

### 16. **对接的客户部门**  
   - 运维：关注稳定性与监控方案  
   - 业务：关注成本与上线效率  
   - 开发：关注工具链与研发效能  
   - 针对不同角色提供差异化方案  

---

### 17. **客户侧需求挖掘方式**  
   - 访谈痛点  
   - 指标分析（成本、交付速度、稳定性）  
   - 小范围POC验证  

---

### 18. **健康项目的特征**  
   - 范围清晰、目标明确  
   - 资源匹配合理  
   - 交付过程中可量化的收益  

--- 

### 19. **售前日常内容**  
   - 需求调研  
   - 方案设计与讲解  
   - POC验证  
   - 投标与客户关系维护

---

### 20. **标书与PPT工作**  
   - 标书编写：技术架构、实施方案、成本测算  
   - 讲标PPT：简洁化表达、客户价值导向 
