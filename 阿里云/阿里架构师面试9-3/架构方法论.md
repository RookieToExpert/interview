## 云架构设计方法论
1. TOGAF(Preliminary → Business Architecture → Application Architecture → Data Architecture → Technology Architecture → Opportunities&Solutions → Migration Planning → Implementation Governance → Architecture Change Management → Requirements Management)：
    1. 准备阶段，定义架构原则，目标和约束条件：
        - 确认客户上云的目标，比如是为了降本增效、数字化/AI转型、云的弹性，以及客户的侧重点是什么。
        - 确认约束条件，安全合规和预算边界。
        
        ### 话术：比如确定哪些系统必须满足合规要求，比如金融行业的等保/PCI-DSS。

    2. **业务架构**，理解企业核心业务流程、组织结构、战略目标。
        - 识别核心系统（ERP、CRM、MES）。
        - 区分业务关键性（核心系统 vs 支撑系统）。

       ### 话术：我们会先从业务视角出发，识别工厂 MES、ERP 这些关键应用，区分必须保证 7x24 的核心业务和可分阶段迁移的支撑系统。

    3. 信息系统架构：
        - **应用架构**：应用如何组合，依赖关系如何。
            - 在云里：哪些应用 SaaS 化，哪些容器化，哪些迁移到 VM。
        - **数据架构**：数据流转、存储方式。
            - 在云里：数据库迁移到 RDS，日志数据进大数据平台。
        
        ### 话术：我们会梳理应用间的依赖，比如电商前端依赖后端 API、支付依赖数据库，再决定哪些容器化部署到 K8s，哪些直接用托管数据库。

    4. **技术架构**，描述实现所需的技术组件：
        - 在云里：
            - 计算（ECS/VM、容器、Serverless）。
            - 存储（对象、块、文件）。
            - 网络（VPC、负载均衡、CDN、专线）。
            - 安全（WAF、防火墙、IAM）。
    
    ### 话术：在技术层面，会设计一个高可用的三层架构：前端走 CDN+WAF，中间层用容器集群，后端数据库采用主备+只读节点的 RDS

    5. **机会与解决方案**，把前面三层架构转化为落地方案：
        - 在云里：
            - 做 TCO 对比（成本 vs 本地机房）。
            - 选择云服务产品组合（ACK、OSS、RDS、Log Service）。
    
    ### 话术：结合客户预算，我们推荐采用对象存储替代原有 NAS，数据库迁移到云上托管 RDS，减少运维成本。

    6. **迁移规划**，制定迁移路线图，分阶段执行：
        - 在云里：
            - 先 POC → 再分批迁移 → 最后核心系统。
            - 蓝绿/灰度/双活等切换策略。
    
    ### 话术：迁移采用分阶段方式，第一阶段先迁辅助系统做验证，第二阶段迁核心 ERP，最后阶段实现双活容灾。

    7. **实施治理**，架构变更管理：
        - 在云里：
            - 建立监控告警（Prometheus/Cloud Monitor）。
            - 做安全审计、权限分级。
    
    ### 话术：我们会在实施过程中引入监控和审计，确保迁移不会引发大面积业务中断。

    8. **持续优化**、适应新需求：
        - 在云里：
            - 根据业务增长，增加弹性伸缩。
            - 引入 AI、大数据等新能力。

    ### 话术：上云后架构不是一成不变的，比如随着电商流量增长，我们会增加自动扩容策略，并逐步引入大数据分析平台。

    9. 需求管理，贯穿整个循环，不断校验需求变化。


### 话术：我会先分析客户的业务目标（Business Architecture），再梳理应用和数据依赖（Application & Data），然后设计底层技术架构（Technology）。结合客户的成本和战略，提出解决方案并做迁移规划（Opportunities & Solutions + Migration Planning）。最后在实施治理和持续优化中保证方案落地。这样能确保架构既满足业务需求，也具备弹性和可扩展性。

## 案例准备：
我们按 TOGAF 的业务→应用/数据→技术→迁移→治理的路径推进。
先用 Azure Migrate 做资产与依赖评估，按处置矩阵把 300+ VM 分为直接上云、托管 PaaS、后续容器化三类；
技术上落地 Hub-Spoke Landing Zone，走 ExpressRoute + Private Endpoint 全私网，安全与密钥统一在 Key Vault/Policy 治理；
迁移采用 ASR Replication Group 分波切换，在隔离测试 VNet里做自动化连通/性能校验；
每波切换遵循 Runbook，≤30 分钟窗口完成，且有蓝绿/回退预案；
上线后通过 Monitor + LA 做可观测，成本通过 rightsizing + 预留/节省计划持续优化。
最终 TTR 降低 50%+，CPU 利用率提升 20%，达到客户的 SLO/RTO/RPO 目标。”

2. ITSA
3. DODAF